{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}

<header class="flex justify-between items-center mb-8">
    <h1 class="text-2xl font-semibold">Dashboard</h1>
    <div class="flex items-center gap-4">
        <a href="{% url 'event-list' %}" class="text-gray-700 hover:text-rose-500">Events</a>
        <a href="{% url 'participant-list' %}" class="text-gray-700 hover:text-rose-500">Participants</a>
        <a href="{% url 'category-list' %}" class="text-gray-700 hover:text-rose-500">Categories</a>
        <a href="{% url 'event-create' %}" class="text-gray-700 hover:text-rose-500">Form</a>

        <button class="p-2 rounded-full hover:bg-gray-200 relative">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6 w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967
                    8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312
                    6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714
                    0m5.714 0a3 3 0 1 1-5.714 0" />
            </svg>
        </button>

        <button class="w-10 h-10 bg-rose-400 rounded-full text-white font-semibold">M</button>
    </div>
</header>

<section 
  class="relative flex items-center justify-center min-h-screen bg-cover bg-center text-white"
  style="background-image: url('/static/images/17A-Event_Management.png');"
>
  <!-- Dark overlay for better text contrast -->
  <div class="absolute inset-0 bg-black/50"></div>
  
  <!-- Content container -->
  <div class="relative z-10 text-center p-8 max-w-4xl mx-auto">
    <h1 class="text-5xl md:text-6xl font-bold mb-4">Welcome to the Event Management Dashboard</h1>
    <p class="text-xl md:text-2xl mb-8">Manage your events, categories, and participants in one place</p>
    
    <!-- Optional CTA Button -->
    <button class="bg-rose-600 hover:bg-rose-700 text-white px-8 py-3 rounded-lg text-lg font-semibold transition-colors">
      Get Started
    </button>
  </div>
</section>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 p-6">
    <div class="bg-white rounded-xl p-6 shadow-sm">
        <h3 class="text-sm font-medium text-gray-500 mb-4">TOTAL EVENTS</h3>
        <div class="flex justify-between items-start">
            <div>
                <p class="text-3xl font-semibold mb-1">{{ total_events }}</p>
                <p class="text-gray-500 text-sm">Last month: 45</p>
            </div>
            <div class="bg-blue-100 p-3 rounded-full">
                <svg class="w-6 h-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 4a2 2 0 012-2h14a2 2 0 012 2v16a2 2 0 01-2 2H5a2 2 0 01-2-2V4z" />
                </svg>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-xl p-6 shadow-sm">
        <h3 class="text-sm font-medium text-gray-500 mb-4">TOTAL PARTICIPANTS</h3>
        <div class="flex justify-between items-start">
            <div>
                <p class="text-3xl font-semibold mb-1">{{ total_participants }}</p>
                <p class="text-gray-500 text-sm">Last month: 13</p>
            </div>
            <div class="bg-green-100 p-3 rounded-full">
                <svg class="w-6 h-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-xl p-6 shadow-sm">
        <h3 class="text-sm font-medium text-gray-500 mb-4">UPCOMING EVENTS</h3>
        <div class="flex justify-between items-start">
            <div>
                <p class="text-3xl font-semibold mb-1">{{ upcoming_events }}</p>
                <p class="text-gray-500 text-sm">Last month: 21</p>
            </div>
            <div class="bg-yellow-100 p-3 rounded-full">
                <svg class="w-6 h-6 text-yellow-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-xl p-6 shadow-sm">
        <h3 class="text-sm font-medium text-gray-500 mb-4">PAST EVENTS</h3>
        <div class="flex justify-between items-start">
            <div>
                <p class="text-3xl font-semibold mb-1">{{ past_events }}</p>
                <p class="text-gray-500 text-sm">Last month: 11</p>
            </div>
            <div class="bg-purple-100 p-3 rounded-full">
                <svg class="w-6 h-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7h18M3 12h18m-9 5h9" />
                </svg>
            </div>
        </div>
    </div>
</div>


<div class="p-1  ">
    <div class=" flex flex-col items-center justify-center">
  <form class="flex gap-2 w-full max-w-md px-4">
    <input 
      type="text" 
      name="q" 
      placeholder="Search events..." 
      class="border px-4 py-2 w-full rounded shadow focus:outline-none focus:ring-2 focus:ring-blue-500" 
    />
    <button 
      type="submit" 
      class="bg-rose-600 text-white px-4 py-2 rounded hover:bg-rose-700 transition-colors"
    >
      Search
    </button>
  </form>
</div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-12">
        {% for event in events %}
        <div class="bg-white p-4 rounded shadow">
            <h2 class="text-xl font-bold">{{ event.name }}</h2>
            <p class="text-sm text-gray-600">{{ event.date }} | {{ event.location }}</p>
            <p class="mt-2">{{ event.description|truncatewords:20 }}</p>
            <a href="{% url 'event-detail' event.pk %}" class="text-rose-600 mt-2 inline-block">View</a>
        </div>
        {% empty %}
        <p>No events found.</p>
        {% endfor %}
    </div>
</div>


    </div>
</div>

{% endblock %}
